

CREATE TABLE event (

	id INT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
	title VARCHAR(50) NOT NULL,
	description VARCHAR(255) NOT NULL,
	category VARCHAR(10) 
				CHECK (category IN('deportes','cine','teatro','television','series','libros','ocio')) NOT NULL,
	eventdate DATETIME NOT NULL,
	place VARCHAR(100) NOT NULL,
	capacity INT NOT NULL,
	image BLOB,
	extension VARCHAR(10),
	managerId INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE users (

	id INT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
	login VARCHAR(50) NOT NULL,
	password VARCHAR(255) NOT NULL,
	role VARCHAR(20) NOT NULL,
	mail VARCHAR(255) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE users_event (

	id INT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
	user_id INT NOT NULL,
	event_id INT NOT NULL,
	PRIMARY KEY (id),
	FOREIGN KEY (user_id) REFERENCES users(id),
	FOREIGN KEY (event_id) REFERENCES event(id)
);